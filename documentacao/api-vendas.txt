// --------- ENTIDADES ---------

Table produtos {
  id serial [pk]
  descricao varchar [not null]
  peca varchar(15) [not null]
  tamanho varchar(3) [not null]
  categoria char(1) [not null] // I - infanto-juvenil M - masc 3 - fem
  preco numeric(8,2) [not null] // maior que 0
  qtdestoque integer [default: 0]
  ativo boolean [default: true]
}

Table precos {
  id serial [pk]
  valor numeric(8,2) [not null]
  dataInicioVigencia date [not null]
  dataFimVigencia date [not null]
  descricao varchar(50)
}

Table vendas {
  id serial [pk]
  cliente integer [not null]
  lojista integer [not null]
  datahoravenda timestamptz [default: 'now()']
  formapagamento char(2) [not null] // DN PX CD CC BL
  vendavarejo boolean [default: true]
  desconto numeric(3) [default: 0] // 0% a 100%
  valorFrete numeric(5, 2) [default: 0.0]
  valorTotal numeric(12,2) [not null]
  enviada boolean [default: false]
  ativo boolean [default: true]
}

Table clientes {
  id serial [pk]
  cpf_cnpj varchar(14) [not null, unique] // check > 10 e < 15
  nome_razaosocial varchar(80) [not null]
  telefone bigint [not null]
  endereco integer [not null]
  tipoPessoa char(2) // PF - Pessoa Física PJ - Pessoa Jurídica
  ativo boolean [default: true]
}

Table aquisicoes {
  id serial [pk]
  fornecedor integer [not null]
  lojista integer [not null]
  datahoraaquisicao timestamptz [default: 'now()']
  formapagamento char(2) [not null] // DN PX CD CC BL
  valorTotal numeric(12,2) [not null]
  ativo boolean [default: true]
}

Table lojistas {
  id serial [pk]
  cnpj char(14) [not null, unique]
  razaosocial varchar(80) [not null]
  segmento varchar(50)
  telefone bigint [not null]
  endereco integer [not null]
  ativo boolean [default: true]
}

Table fornecedores {
  id serial [pk]
  cnpj char(14) [not null, unique]
  razaosocial varchar(80) [not null]
  telefone bigint [not null]
  endereco integer [not null]
  ativo boolean [default: true]
}

Table enderecos {
  id serial [pk]
  cep char(8) [not null]
  logradouro varchar(50) [not null]
  complemento varchar(100) [not null]
  bairro varchar(50)
  localidade varchar(50) [not null]
  uf char(2) [not null]
}

// --------- RELACIONAMENTOS ---------

Ref: produtos.id <> vendas.id

Ref: produtos.id <> aquisicoes.id

Ref: produtos.preco > precos.id

Ref: vendas.cliente > clientes.id

Ref: vendas.lojista > lojistas.id

Ref: aquisicoes.fornecedor > fornecedores.id

Ref: aquisicoes.lojista > lojistas.id

Ref: lojistas.endereco > enderecos.id

Ref: clientes.endereco > enderecos.id